<div *ngIf="isLoading" class="loader-overlay">
  <div class="loader"></div>
  <p>Sending your application...</p>
</div>
<div class="form">
  <h2>Helper Application</h2>
<div class="onboarding-banner">
  <h1>Work for Yourself. Not by Yourself!</h1>
  <p>
    <strong>Swift Helpers</strong> empowers self-employed individuals with meaningful jobs, maximized earnings, and a reliable path to future-ready, dignified service delivery.
  </p>
  <p>
    Whether you’re seeking flexible side income, a full-time opportunity, or a short-term pathway while transitioning back into the workforce, Swift Helpers meets you where you are.
    From basic tasks to professional trade work, our job board connects you directly with clients in need, designed for clarity, fair pay, and straightforward coordination.
  </p>
  <p><strong>What makes Swift Helpers different?</strong></p>
  <ul>
    <li>You’re paid directly by the client and keep your full rate. Clients also cover fees that support your Workboard and contribute to your Income Security Fund, your built-in financial safety net.</li>
    <li>Earn on your terms. Choose the jobs you want, set your rates, and build your own schedule.</li>
    <li>Get expert-backed guidance through Swift Academy. Unlock premium work opportunities as you progress toward Assured Helper status.</li>
  </ul>
</div>

  <form (ngSubmit)="register()" #formRef="ngForm">

    <!-- 1. Basic Identity and Location -->
    <label class="label-title">Basic Identity and Location</label>
    <div class="form-grid">
      <input type="text" name="firstName" [(ngModel)]="workforceForm.firstName" placeholder="First Name *" required />
      <input type="text" name="lastName" [(ngModel)]="workforceForm.lastName" placeholder="Last Name *" required />
    </div>
    <input type="email" name="email" [(ngModel)]="workforceForm.email" placeholder="Email Address *" required />
    <input type="tel" name="phone" [(ngModel)]="workforceForm.phone" placeholder="Phone Number *" required />
    <input
  type="text"
  name="city"
  [(ngModel)]="workforceForm.adress"
  placeholder="Fort McMurray"
  [value]="'Fort McMurray'"
  required
/>

    <!-- 2. Service Categories -->
    <label class="label-title">Select the types of services you're comfortable offering as a
General Helper. These tasks involve hands-on support, physical
labor, and property-related assistance across a variety of
environments. *</label>
    <div class="checkbox-list">
      <label *ngFor="let service of services">
        <input type="checkbox"
               [value]="service.serviceTypeID"
               (change)="onServiceSelect($event)"
               [checked]="workforceForm.workCategory.includes(service.serviceTypeID)" />
        {{ service.serviceName }}
      </label>
    </div>

    <!-- 3. Work Profile -->
    <label class="label-title">Work Profile</label>
    <textarea name="training" [(ngModel)]="workforceForm.training" rows="3" placeholder="Work Experience *" required></textarea>
    <textarea name="yearsOfExperience" [(ngModel)]="workforceForm.yearsOfExperience" rows="2" placeholder="Years of Relevant Experience *" required></textarea>
    <input type="file" name="resume" (change)="onFileChange($event, 'resume')" />

    <!-- 4. Mobility -->
    <label class="label-title">Mobility</label>
    <select [(ngModel)]="workforceForm.driverLicence" name="driverLicence" required>
      <option value="">Do you have a Driver’s License? *</option>
      <option value="Yes">Yes</option>
      <option value="No">No</option>
    </select>
    <input type="text" name="driverLicenceClass" [(ngModel)]="workforceForm.driverLicenceClass" placeholder="Driver’s License Class" />

    <!-- 5. Vehicle and Tools -->
<label class="label-title">Vehicles *</label>
<div class="checkbox-list">
  <label *ngFor="let vehicle of vehicleOptions.vehicle">
    <input
      type="checkbox"
      [value]="vehicle"
      (change)="onVehicleSelect($event, 'vehicle')"
      [checked]="workforceForm.availability[vehicle]"
    />
    {{ vehicle }}
  </label>
</div>

<label class="label-title">Work-Related Basic Tools *</label>
<div class="checkbox-list">
  <label *ngFor="let tool of vehicleOptions.tools">
    <input
      type="checkbox"
      [value]="tool"
      (change)="onVehicleSelect($event, 'tool')"
      [checked]="workforceForm.availability[tool]"
      
    />
    {{ tool }}
  </label>
</div>

    <!-- 6. Privacy Policy -->
    <label class="label-title">
      <input
  type="checkbox"
  [(ngModel)]="acceptedPolicy"
  name="privacyPolicy"
  (change)="showPrivacy($event)"
  required
/>
      I agree to the Privacy Policy *
    </label>

    <!-- Error -->
    <div *ngIf="errorMessage" class="error-message">{{ errorMessage }}</div>

    <!-- 7. Submit -->
    <button type="submit">Apply</button>

  </form>
  <div class="modal-backdrop" *ngIf="showPrivacyModal" (click)="showPrivacyModal = false">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <h3>Privacy Policy</h3>
    <p>
      By joining Swift Helpers, you agree to our policies governing personal data collection, service coordination, and helper-client relationships.
      Your data will only be used to match you with jobs, support payment processes, and improve your experience. We never sell your data.
    </p>
    <p>
      You can request access to or deletion of your data by contacting <strong>office&#64;swift-helpers.com</strong>.
    </p>
    <button (click)="showPrivacyModal = false">Close</button>
  </div>
</div>
</div>
